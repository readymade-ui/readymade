class t{constructor(t,e){this.target=t,this.channels={default:new BroadcastChannel("default")},e&&this.setChannel(e),this.events={}}get(t){return this.events[t]}set(t,e){return this.events[t]=e,this.get(t)}emit(t){"string"==typeof t&&(t=this.events[t]),this.target.dispatchEvent(t)}broadcast(t,e){"string"==typeof t&&(t=this.events[t]),this.target.dispatchEvent(t);const s={bubbles:t.bubbles,cancelBubble:t.cancelBubble,cancelable:t.cancelable,defaultPrevented:t.defaultPrevented,detail:t.detail,timeStamp:t.timeStamp,type:t.type};e?this.channels[e].postMessage(s):this.channels.default.postMessage(s)}setChannel(t){this.channels[t]=new BroadcastChannel(t),this.channels[t].onmessage=e=>{for(const s in this.target.elementMeta.eventMap)s.includes(t)&&s.includes(e.data.type)&&this.target[this.target.elementMeta.eventMap[s].handler](e.data)}}removeChannel(t){this.channels[t].close(),delete this.channels[t]}}function e(t,e){const s=t.attachShadow(e||{}),i=document.createElement("template");i.innerHTML=t.template,s.appendChild(i.content.cloneNode(!0)),t.bindTemplate()}function s(t,e){const s=document.createElement("template");s.innerHTML=t.elementMeta.template,t.appendChild(s.content.cloneNode(!0)),t.bindTemplate()}function i(t,e){const s=""+t.elementMeta.selector;if(!document.getElementById(s+"-x")){const e=document.createElement("style");e.setAttribute("id",s+"-x"),e.innerText=t.elementMeta.style,e.innerText=e.innerText.replace(/:host/gi,`[is=${s}]`),document.head.appendChild(e)}}function n(t,e){!0===e.autoDefine&&(e.selector&&!e.custom?customElements.define(e.selector,t.contructor):e.selector&&e.custom?customElements.define(e.selector,t.contructor,e.custom):(console.log(e.selector,t.constructor),customElements.define(e.selector,t.contructor)))}const r=/\[(\w+)\]/g,o=/^\./,h=/\.|\[[0-9]*\]|(?:\['|'\])/g,d=/\{\{(\s*)(.*?)(\s*)\}\}/g,c=new RegExp("\\[","g"),l=new RegExp("\\]","g"),a=new RegExp("{{"),u=new RegExp("}}"),m=function(t){return null!==t&&("function"==typeof t||"object"==typeof t)},b=function(t,e){const s=(e=(e=e.replace(r,".$1")).replace(o,"")).split(h).filter((t=>t.length>0));for(let e=0,i=s.length;e<i;++e){const i=s[e];if(!(i in t))return;t=t[i]}return t};function p(t){return t=(t=t.replace(a,"")).replace(u,"")}function E(t){return new RegExp(`{{(\b*)(${t})(\b*)}}`,"g")}class L{constructor(t){this.$flatMap={},this.$parent=t,this.$flatMap={},this.$parentId=function(){let t="";const e="abcdefghijklmnopqrstuvwxyz";for(;t.length<3;)t+=e[Math.floor(Math.random()*e.length)];return t}()}setNode(t,e,s,i){if(this.$flatMap[i])return this.$flatMap[i];const n=i||this.$parentId+"-"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(24)})).slice(0,6),r=t.cloneNode(!0);return t.setAttribute||(t.setAttribute=function(t,e){}),t.setAttribute(n,""),r.setAttribute||(r.setAttribute=function(t,e){}),r.setAttribute(n,""),this.$flatMap[n]={id:n,node:r},e&&s&&this.updateNode(t,e,s),t.$init=!0,this.$flatMap[n]}changeNode(t,e,s,i){const n=E(e=function(t){return(t=t.replace(c,"\\[")).replace(l,"\\]")}(e));if(i.textContent.match(n)&&i.textContent===`{{${e}}}`&&t.textContent!==s&&(t.textContent=i.textContent.replace(n,s)),1===i.attributes.length)return;let r="";for(const e of i.attributes){if(r=e.nodeName||e.name,r.includes("attr.")&&!i.getAttribute(r.replace("attr.",""))){e.nodeName?r=e.nodeName.replace("attr.",""):e.name&&(r=e.name.replace("attr.","")),i.setAttribute||(i.setAttribute=function(t,e){}),i.setAttribute(r,e.nodeValue.replace(d,""));const s=e.nodeName||e.name;t.removeAttribute(s)}const o=e.nodeValue||e.value;o.match(n,"gi")&&t.getAttribute(r)!==s&&(t.setAttribute||(t.setAttribute=function(t,e){}),t.setAttribute(r,o.replace(n,s)));const h=e.nodeName||e.name;h.includes("attr.")&&t.removeAttribute(h)}}updateNode(t,e,s){const i=this.getElementByAttribute(t)[0],n=i?i.nodeName||i.name:null;let r=this.setNode(t,e,s,n).node,o=r.outerHTML.toString().match(d);if(null==o)return;for(let t=0;t<o.length;t++)o[t]=p(o[t]);let c=function(t,e){const s=[];for(let i=0;i<e.length;i++)t(e[i])&&s.push(e[i]);return s}((t=>t.startsWith(e)),o);if(0!==c.length)if(m(s)||Array.isArray(s))for(let e=0;e<c.length;e++)this.changeNode(t,o[e],b(s,o[e].substring(o[e].search(h))),r);else this.changeNode(t,e,s,r)}getElementByAttribute(t){if(!t.attributes)return[];let e=[];for(let s=0;s<t.attributes.length;s++)/[A-Za-z0-9]{3}-[A-Za-z0-9]{6}/gm.test(t.attributes[s].nodeName||t.attributes[s].name)&&e.push(t.attributes[s]);return e}update(t,e){const s=document.createTreeWalker(this.$parent,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>NodeFilter.FILTER_ACCEPT},!1);for(;s.nextNode();)this.updateNode(s.currentNode,t,e);return this.$parent}}class I{constructor(t){this.$elem=t,this.$tree=new L(this.$elem)}update(t,e){null!=e&&(this.$tree.update(t,e),this.$elem.onUpdate&&this.$elem.onUpdate())}}class f{constructor(t){this.$parent=t}set(t,e,s){if("undefined"===s)return!0;const i=new RegExp(d).exec(s),n=!(!i||!i[2])&&i[2],r={[e]:{previousValue:t[e],newValue:s}};return n?t.parentNode&&t.parentNode.host&&"open"===t.parentNode.mode?t[e]=b(t.parentNode.host,n):n&&t.parentNode&&(t[e]=b(t.parentNode,n)):t[e]=s,this.$parent.ɵɵstate.node__state.update(e,t[e]),t.onStateChange&&t.onStateChange(r),!0}}function x(){this.bindState&&this.bindState()}function M(t,e){!function(t,e,s){const i=e.split(h),n=i.length;for(let e=0;e<n-1;e++){const s=i[e];t[s]||(t[s]={}),t=t[s]}t[i[n-1]]=s}(this.ɵstate,t,e),this.ɵɵstate.node__state.update(t,e)}function T(t,e){t.style||(t.style=""),t.template||(t.template=""),e.prototype.elementMeta=Object.assign(e.elementMeta?e.elementMeta:{},t),e.prototype.elementMeta.eventMap={},e.prototype.template=`<style>${t.style}</style>${t.template}`,e.prototype.bindTemplate=x,e.prototype.setState=M}function g(t){return t.parentNode}function H(t){const e=t||this;if(!e)return[];const s=function t(e,s=[],i=[]){e.children.length||i.push(s.concat(e));for(const n of e.children)t(n,s.concat(n),i);return i}(e,[]).reduce(((t,e)=>t.concat(e)),[]);return s.filter(((t,e)=>s.indexOf(t)>=e))}function y(t){return Array.from(g(t).children).filter((t=>"TEXT"!==t.tagName&&"STYLE"!==t.tagName))}function A(t){return document.querySelector(t)}function N(t){return Array.from(document.querySelectorAll(t))}function $(t){return y(t).indexOf(t)}function C(t,e,s,i){var n,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var h=t.length-1;h>=0;h--)(n=t[h])&&(o=(r<3?n(o):r>3?n(e,s,o):n(e,s))||o);return r>3&&o&&Object.defineProperty(e,s,o),o}function v(t,e,s,i){return new(s||(s=Promise))((function(n,r){function o(t){try{d(i.next(t))}catch(t){r(t)}}function h(t){try{d(i.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof s?e:new s((function(t){t(e)}))).then(o,h)}d((i=i.apply(t,e||[])).next())}))}const w="$emit",S="$listen",R=(...t)=>t,O=(...t)=>t,P=()=>{};function _(t){if(t)return e=>(T(t,e),void 0===t.autoDefine&&(t.autoDefine=!0),!0===t.autoDefine&&(t.selector&&!t.custom?customElements.define(t.selector,e):t.selector&&t.custom?customElements.define(t.selector,e,t.custom):customElements.define(t.selector,e)),e);console.error("Component must include ElementMeta to compile")}function B(t){return function(t,e,s){function i(){return v(this,void 0,void 0,(function*(){this.$state=this[e](),this.ɵɵstate={},this.ɵɵstate.handler__state=new f(this),this.ɵɵstate.node__state=new I(this.shadowRoot?this.shadowRoot:this),this.ɵstate=new Proxy(this.$state,this.ɵɵstate.handler__state);for(const t in this.$state)this.ɵstate[t]=this.$state[t]}))}t.bindState=function(){i.call(this)}}}function D(e,s,i){return function(n,r,o){const h=i||"default";let d="";function c(e,i){this.emitter||(this.emitter=new t(this,i)),e&&this.emitter.set(e,new CustomEvent(e,s||{})),i&&!this.emitter.channels[i]&&this.emitter.setChannel(i)}function l(){for(const t in this)t.includes("$emit")&&this[t].call(this)}d=e?"$emit"+h+e:"$emit"+h,n[d]||(n[d]=function(){c.call(this,e,i)}),n.bindEmitters=function(){l.call(this)}}}function k(e,s){return function(i,n,r){const o=Symbol(n);let h="";function d(e,s){const i=this[o]=(...t)=>{r.value.apply(this,t)};this.emitter||(this.emitter=new t(this,s||null)),this.elementMeta.eventMap[h]={key:e,handler:n},this.addEventListener(e,i)}function c(){this.removeEventListener(e,this[o])}function l(){for(const t in this)t.includes("$listen")&&this[t].onListener.call(this)}h=s?"$listen"+e+s:"$listen"+e,i[h]||(i[h]={},i[h].onListener=function(){d.call(this,e,s)},i[h].onDestroyListener=function(){c.call(this,e,s)}),i.bindListeners=function(){l.call(this)}}}class j extends HTMLElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class F extends HTMLElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class V extends HTMLElement{constructor(){super(),e(this,{mode:this.elementMeta.mode||"open"}),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class q extends HTMLAllCollection{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class W extends HTMLAnchorElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class U extends HTMLAreaElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class z extends HTMLAudioElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Z extends HTMLBRElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class G extends HTMLBodyElement{constructor(){super(),e(this,{mode:this.elementMeta.mode||"open"}),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class J extends HTMLButtonElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Q extends HTMLCanvasElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class X extends HTMLCollection{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Y extends HTMLDListElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class K extends HTMLDataElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class tt extends HTMLDetailsElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class et extends HTMLDivElement{constructor(){super(),e(this,{mode:this.elementMeta.mode||"open"}),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class st extends HTMLEmbedElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class it extends HTMLFieldSetElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class nt extends HTMLFormControlsCollection{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class rt extends HTMLFormElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class ot extends HTMLHRElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class ht extends HTMLHeadElement{constructor(){super(),this.onInit&&this.onInit()}}class dt extends HTMLHeadingElement{constructor(){super(),e(this,{mode:this.elementMeta.mode||"open"}),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class ct extends HTMLHtmlElement{constructor(){super(),this.onInit&&this.onInit()}}class lt extends HTMLIFrameElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class at extends HTMLImageElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class ut extends HTMLInputElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class mt extends HTMLLIElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class bt extends HTMLLabelElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class pt extends HTMLLegendElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Et extends HTMLLinkElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Lt extends HTMLMapElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class It extends HTMLMediaElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class ft extends HTMLMenuElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class xt extends HTMLMetaElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Mt extends HTMLMeterElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Tt extends HTMLModElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class gt extends HTMLOListElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Ht extends HTMLObjectElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class yt extends HTMLOptGroupElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class At extends HTMLOptionElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Nt extends HTMLOptionsCollection{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class $t extends HTMLOutputElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Ct extends HTMLParagraphElement{constructor(){super(),e(this,{mode:this.elementMeta.mode||"open"}),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class vt extends HTMLParamElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class wt extends HTMLPictureElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class St extends HTMLPreElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Rt extends HTMLProgressElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Ot extends HTMLQuoteElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Pt extends HTMLScriptElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class _t extends HTMLSelectElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Bt extends HTMLSlotElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Dt extends HTMLSourceElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class kt extends HTMLSpanElement{constructor(){super(),e(this,{mode:this.elementMeta.mode||"open"}),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class jt extends HTMLStyleElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Ft extends HTMLTableCaptionElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Vt extends HTMLTableCellElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class qt extends HTMLTableColElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Wt extends HTMLTableElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Ut extends HTMLTableRowElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class zt extends HTMLTableSectionElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Zt extends HTMLTemplateElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Gt extends HTMLTimeElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Jt extends HTMLTitleElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Qt extends HTMLTrackElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Xt extends HTMLUListElement{constructor(){super(),s(this),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Yt extends HTMLUnknownElement{constructor(){super(),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}class Kt extends HTMLVideoElement{constructor(){super(),i(this),this.bindEmitters&&this.bindEmitters(),this.bindListeners&&this.bindListeners(),this.onInit&&this.onInit()}}function te(t,e,s,i,n){const r=document.importNode(t,!0);let o="";if(r.removeAttribute("repeat"),t.textContent.startsWith("{{"+e)){const e=p(t.textContent),s=e.substring(e.search(h));r.textContent=t.textContent.replace(t.textContent,m(i)?b(i,s):i)}for(const s of t.attributes)if(o=s.nodeName||s.name,"repeat"!==o){if(o.includes("attr.")&&!t.getAttribute(o.replace("attr.",""))){s.nodeName?o=s.nodeName.replace("attr.",""):s.name&&(o=s.name.replace("attr.","")),t.setAttribute||(t.setAttribute=function(t,e){});const e=p(s.nodeValue),n=e.substring(e.search(h));t.setAttribute(o,m(i)?b(i,n):i);const d=s.nodeName||s.name;r.removeAttribute(d)}const n=s.nodeValue||s.value;if(n.startsWith("{{"+e)){r.setAttribute||(r.setAttribute=function(t,e){});const t=p(n),e=t.substring(t.search(h));r.setAttribute(o,n.replace(n,m(i)?b(i,e):i))}const d=s.nodeName||s.name;d.includes("attr.")&&r.removeAttribute(d)}t.parentNode.appendChild(r)}function ee(t,e,s){const i=s.match(/(\w*)(?:\s)(?:of)(?:\s)(?:\{\{(?:\s*)(.*?)(?:\s*)\}\})/);if(i&&i.length)return;if(!t.parentNode)return;const n=s.split("of")[0].trim(),r=JSON.parse(s.split("of")[1].trim()),o=(E(n),e.content.cloneNode(!0)),h=o.querySelector(`[repeat="${n}"]`);if(Array.isArray(r))for(let t=0;t<r.length;t++)te(h,n,0,r[t]);h.parentNode.removeChild(h),t instanceof ie?t.appendChild(o):t.parentNode.appendChild(o)}let se=class extends Zt{constructor(){super(),this.bindTemplate()}static get observedAttributes(){return["items"]}attributeChangedCallback(t,e,s){switch(t){case"items":this.render(s)}}render(t){ee(this,this,t)}};se=C([_({selector:"r-repeat",custom:{extends:"template"}})],se);let ie=class extends F{constructor(){super()}static get observedAttributes(){return["items","template"]}attributeChangedCallback(t,e,s){switch(t){case"template":this.setTemplate(s);break;case"items":this.setItems(s)}}setItems(t){this.$items=t,this.render()}render(){const t=document.querySelector(`[id="${this.$templateId}"]`);t&&this.$items&&ee(this,t,this.$items)}setTemplate(t){this.$templateId=t,this.render()}};ie=C([_({selector:"r-repeatr"})],ie);export{q as AllCollectionComponent,W as AnchorComponent,U as AreaComponent,z as AudioComponent,Z as BRComponent,G as BodyComponent,J as ButtonComponent,Q as CanvasComponent,X as CollectionComponent,_ as Component,V as CustomElement,Y as DListComponent,K as DataComponent,tt as DetailsComponent,et as DivComponent,w as EMIT_KEY,st as EmbedComponent,D as Emitter,t as EventDispatcher,it as FieldSetComponent,rt as FormComponent,nt as FormControlsComponent,ot as HRComponent,ht as HeadComponent,dt as HeadingComponent,ct as HtmlComponent,lt as IFrameComponent,at as ImageComponent,ut as InputComponent,mt as LIComponent,S as LISTEN_KEY,bt as LabelComponent,pt as LegendComponent,Et as LinkComponent,k as Listen,Lt as MapComponent,It as MediaComponent,ft as MenuComponent,xt as MetaComponent,Mt as MeterComponent,Tt as ModComponent,gt as OListComponent,Ht as ObjectComponent,yt as OptGroupComponent,At as OptionComponent,Nt as OptionsCollectionComponent,$t as OutputComponent,Ct as ParagraphComponent,vt as ParamComponent,wt as PictureComponent,St as PreComponent,Rt as ProgressComponent,F as PseudoElement,Ot as QuoteComponent,se as Repeater,Pt as ScriptComponent,_t as SelectComponent,Bt as SlotComponent,Dt as SourceComponent,kt as SpanComponent,B as State,j as StructuralElement,jt as StyleComponent,Ft as TableCaptionComponent,Vt as TableCellComponent,qt as TableColComponent,Wt as TableComponent,Ut as TableRowComponent,zt as TableSectionComponent,Zt as TemplateComponent,ie as TemplateRepeater,Gt as TimeComponent,Jt as TitleComponent,Qt as TrackComponent,Xt as UListComponent,Yt as UnknownComponent,Kt as VideoComponent,s as attachDOM,e as attachShadow,i as attachStyle,x as bindTemplate,T as compileTemplate,O as css,n as define,H as getChildNodes,$ as getElementIndex,g as getParent,y as getSiblings,R as html,P as noop,A as querySelector,N as querySelectorAll};
//# sourceMappingURL=core.min.js.map
